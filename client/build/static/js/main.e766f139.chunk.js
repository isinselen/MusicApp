(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(66)},66:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(16),o=a.n(c),l=a(68),s=a(26),u=a(17),i=a(18),d=a(25),m=a(19),p=a(27),b=a(69);var g=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-danger"},r.a.createElement("a",{className:"navbar-brand",href:"/"},"Melody"),r.a.createElement(b.a,{to:"/signup",activeClassName:"active"},"Signup"))},f=a(6),h=a(21),v=a(5),E=a.n(v),y=a(24),O=a.n(y),w=function(e){return E.a.get("/user/".concat(e))},j=function(e){return E.a.post("/user",{name:e})},S=function(e,t,a){return E.a.put("/user/addSearch",{userId:e,artist:t,song:a})},k=function(e){var t=e.user,a=Object(n.useState)(""),c=Object(f.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(""),u=Object(f.a)(s,2),i=u[0],d=u[1],m=Object(n.useState)(null),p=Object(f.a)(m,2),b=p[0],g=p[1],v=Object(n.useState)(""),y=Object(f.a)(v,2),w=y[0],j=y[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"container text-center pt-5"},r.a.createElement("i",{className:"fas fa-angle-double-down fa-3x animated swing delay-1s"})),r.a.createElement("section",{style:{background:"#EBF8FD",minHeight:"500px"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 text-center pt-3"},r.a.createElement("h3",{id:"1"},"MELODY Music App"),b&&r.a.createElement(h.a,{videoId:b,opts:{height:"390",width:"640",playerVars:{autoplay:1}},onReady:function(){return null}}),w&&r.a.createElement("p",null,w),r.a.createElement("input",{onChange:function(e){return l(e.target.value)},placeholder:"artist"}),r.a.createElement("input",{onChange:function(e){return d(e.target.value)},placeholder:"song"}),r.a.createElement("button",{onClick:function(){var e=E.a.get("https://www.googleapis.com/youtube/v3/search?key=AIzaSyCOrYDn-Rpq-DIqgvv5naHsrsCfjPcqby4&q=".concat(encodeURIComponent(i+" - "+o),"&part=id")),a=E.a.get("https://api.musixmatch.com/ws/1.1/matcher.lyrics.get",{params:{format:"jsonp",callback:"jsonp_callback",apikey:"4841837f851469f3b5b537d381f89006",q_artist:o,q_track:i},headers:{"content-type":"application/javascript"},adapter:O.a});return Promise.all([e,a]).then(function(e){console.log("GOT SOME DATA FROM YOUTUBE",e[0]);var a=e[0].data.items.find(function(e){return"youtube#video"===e.id.kind});g(a.id.videoId),console.log("GOT MUSIXMATCH DATA",e[1].data.message.body.lyrics.lyrics_body),j(e[1].data.message.body.lyrics.lyrics_body),S(t._id,o,i)})}},r.a.createElement("strong",null,"SEARCH")))))))},I=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loaded:!1,user:null},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("userId");t?w(t).then(function(t){console.log("Got existing user in component",t),e.setState({loaded:!0,user:t.data})}):window.location="/signup"}},{key:"render",value:function(){return r.a.createElement("div",null,console.log("this.state.user.searches",this.state.user&&this.state.user.searches),r.a.createElement(g,null),r.a.createElement(k,{user:this.state.user}))}}]),t}(r.a.Component),C=function(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),a=t[0],c=t[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),j(a).then(function(e){console.log("Got newly created user in component",e),localStorage.setItem("userId",e.data._id),window.location="/"})}},r.a.createElement("input",{onChange:function(e){return c(e.target.value)},placeholder:"Name"}),r.a.createElement("button",{type:"submit"}," Submit "))},x=function(){return r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(s.a,{exact:!0,path:"/",component:I}),r.a.createElement(s.a,{exact:!0,path:"/signup",component:C})))};o.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.e766f139.chunk.js.map