{"version":3,"sources":["components/Nav/index.js","utils/API.js","components/Jumbotron/index.js","pages/Home.js","pages/Signup.js","App.js","index.js"],"names":["Nav","react_default","a","createElement","className","href","NavLink","to","activeClassName","API","userId","axios","get","concat","name","post","artist","song","put","Jumbotron","_ref","user","updateSearches","_useState","useState","_useState2","Object","slicedToArray","setArtist","_useState3","_useState4","setSong","_useState5","_useState6","videoId","setVideoId","_useState7","_useState8","videoLyrics","setVideoLyrics","style","background","minHeight","id","onChange","e","target","value","placeholder","onClick","promise1","encodeURIComponent","promise2","params","format","callback","apikey","q_artist","q_track","headers","content-type","adapter","jsonpAdapter","Promise","all","then","results","console","log","firstVideoResult","data","items","find","item","kind","message","body","lyrics","lyrics_body","_id","YouTube","opts","height","width","playerVars","autoplay","onReady","Home","state","loaded","_this2","this","localStorage","getItem","setState","window","location","Artist","currentSearches","toConsumableArray","searches","push","updatedUser","objectSpread","_this3","components_Nav","components_Jumbotron","bind","React","Component","Signup","setName","onSubmit","preventDefault","setItem","event","type","App","BrowserRouter","Route","exact","path","component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.22bef3a1.chunk.js","sourcesContent":["import React from \"react\";\nimport {NavLink} from \"react-router-dom\";\n\nfunction Nav() {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-danger\">\n      <a className=\"navbar-brand\" href=\"/\">\n        Melody\n      </a>\n      <NavLink to={`/signup`} activeClassName=\"active\">Signup</NavLink>\n    </nav>\n  );\n}\n\nexport default Nav;\n","import axios from \"axios\";\n\nexport default {\n  getUser: function(userId) {\n    return axios.get(`/user/${userId}`);\n  },\n  createUser: function(name) {\n    return axios.post(\"/user\", { name: name })\n  },\n  updateUser: function(userId, artist, song) {\n    return axios.put(\"/user/addSearch\", { userId: userId, artist: artist, song: song })\n  },\n};\n// import axios from \"axios\";\n// function getLyrics(){\n\n//   var artistSearch = document.getElementById(\"artistSearch\").value;\n//   console.log(\"article search: \" +artistSearch);\n//   document.getElementById(\"lyrics\").textContent = \"\";\n//     $.ajax({\n//       type: \"GET\",\n//       data: {\n//           apikey:\"44841837f851469f3b5b537d381f89006\",\n//           q_artist: artistSearch,\n//           format:\"jsonp\",\n//           callback:\"jsonp_callback\"\n//       },\n//       url: \"https://api.musixmatch.com/ws/1.1/track.search\",\n//       dataType: \"jsonp\",\n//       jsonpCallback: 'jsonp_callback',\n//       contentType: 'application/json',\n//       success: function(data) {\n//           console.log(data); \n//           console.log(data.message.body.track_list[0].track.album_coverart_350x350)\n//           console.log(data.message.body.track_list[0].track.lyrics_id)\n//           var rand = data.message.body.track_list[Math.floor(Math.random() * data.message.body.track_list.length)];\n//           console.log(rand.track.track_id)\n//           var thisTrack = (rand.track.track_id)\n//           var thisPic = rand.track.album_coverart_350x350;\n//           console.log(thisPic)\n  \n//           var p = document.createElement(\"p\");\n//           p.textContent = thisTrack;\n//           p.id = thisTrack;\n  \n//           var img = document.createElement(\"img\")\n//           img.setAttribute(\"src\",thisPic)\n  \n//           document.getElementById(\"lyrics\").appendChild(p).style.opacity = 0;\n//           document.getElementById(\"lyrics\").appendChild(img);\n//           document.getElementById(\"ghost\").click();\n  \n//       },\n//       error: function(jqXHR, textStatus, errorThrown) {\n//           console.log(jqXHR);\n//           console.log(textStatus);\n//           console.log(errorThrown);\n//       }    \n//     });\n//    };\n  \n  \n//    function getLyricsNow(){\n//       var trackId = document.getElementById(\"lyrics\").textContent;\n//       console.log(trackId)\n//     $.ajax({\n//       type: \"GET\",\n//       data: {\n//           apikey:\"4841837f851469f3b5b537d381f89006\",\n//           track_id: trackId,\n//           format:\"jsonp\",\n//           callback:\"jsonp_callback\"\n//       },\n//       url: \"https://api.musixmatch.com/ws/1.1/track.lyrics.get\",\n//       dataType: \"jsonp\",\n//       jsonpCallback: 'jsonp_callback',\n//       contentType: 'application/json',\n//       success: function(data) {\n//          console.log(data); console.log(data.message.body.lyrics.lyrics_body); \n//         var lyricsBody = data.message.body.lyrics.lyrics_body.split(/\\s+/).slice(0,100).join(\" \")+ \"...\";\n         \n//           var j = document.createElement(\"p\")\n//           j.textContent = lyricsBody\n//           document.getElementById(\"lyrics\").appendChild(j)\n//       },\n//       error: function(jqXHR, textStatus, errorThrown) {\n//           console.log(jqXHR);\n//           console.log(textStatus);\n//           console.log(errorThrown);\n//       }    \n//     });\n//    };","import React, { useState } from \"react\";\nimport YouTube from 'react-youtube'\nimport axios from 'axios'\nimport jsonpAdapter from 'axios-jsonp'\nimport API from \"../../utils/API\";\nimport \"./style.css\"\n\nconst Jumbotron = ({ user,updateSearches}) => {\n  const opts = {\n    height: '390',\n    width: '640',\n    playerVars: { // https://developers.google.com/youtube/player_parameters\n      autoplay: 1\n    }\n  };\n  const [artist, setArtist] = useState('')\n  const [song, setSong] = useState('')\n  const [videoId, setVideoId] = useState(null)\n  const [videoLyrics, setVideoLyrics] = useState('')\n\n  const handleArtistSearch = () => {\n    const promise1 = axios.get(`https://www.googleapis.com/youtube/v3/search?key=AIzaSyCOrYDn-Rpq-DIqgvv5naHsrsCfjPcqby4&q=${encodeURIComponent(song + ' - ' + artist)}&part=id`)\n\n    const promise2 = axios.get(`https://api.musixmatch.com/ws/1.1/matcher.lyrics.get`, {\n      params: {\n        format: 'jsonp',\n        callback: 'jsonp_callback',\n        apikey: '4841837f851469f3b5b537d381f89006',\n        q_artist: artist,\n        q_track: song\n      },\n      headers: { 'content-type': 'application/javascript' },\n      adapter: jsonpAdapter,\n    })\n    \n\n    return Promise.all([promise1, promise2])\n      .then(results => {\n        console.log('GOT SOME DATA FROM YOUTUBE', results[0])\n        const firstVideoResult = results[0].data.items.find(item => item.id.kind === 'youtube#video')\n        setVideoId(firstVideoResult.id.videoId)\n\n        console.log('GOT MUSIXMATCH DATA', results[1].data.message.body.lyrics.lyrics_body)\n        setVideoLyrics(results[1].data.message.body.lyrics.lyrics_body)\n        console.log(artist)\n        updateSearches(artist)\n        if (user)\n          API.updateUser(user._id, artist, song)\n      })\n  }\n\n  return (\n    <div>\n      <div className=\"container text-center pt-5\">\n        <i className=\"fas fa-angle-double-down fa-3x animated swing delay-1s\"></i>\n      </div>\n\n      <section style={{ background: '#EBF8FD', minHeight: '500px' }}>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"exampleClass col-12 text-center pt-3\">\n              <h3 id=\"1\">MELODY Music App</h3>\n                <input onChange={e => setArtist(e.target.value)} placeholder='artist' />\n                <input onChange={e => setSong(e.target.value)} placeholder='song' />\n                <button onClick={handleArtistSearch}><strong>SEARCH</strong></button>\n                <div className=\"resultSection\">\n                  <span className=\"videoSection\">\n                    {\n                      videoId &&\n                      <YouTube\n                        videoId={videoId}\n                        opts={opts}\n                        onReady={() => null}\n                      />\n                    }\n                  </span>\n                  <span className=\"lyricsSection\">\n                    {\n                      videoLyrics &&\n                      <p>{videoLyrics}</p>\n                    }\n                  </span>\n                </div>\n\n            </div>\n          </div>\n        </div>\n      </section>\n    </div >\n  );\n}\n\nexport default Jumbotron;","import React from \"react\";\nimport Nav from \"../components/Nav\";\nimport Jumbotron from \"../components/Jumbotron\"\nimport API from \"../utils/API\";\n\nclass Home extends React.Component {\n    state = {\n        loaded: false,\n        user: null\n    };\n\n    componentDidMount() {\n        const userId = localStorage.getItem(\"userId\");\n        if (userId) {\n            API.getUser(userId)\n                .then(user => {\n                    console.log('Got existing user in component', user)\n                    this.setState({ loaded: true, user: user.data })\n                })\n        } else {\n            window.location = '/signup'\n        }\n    }\n    updateSearches(Artist) {\n        let currentSearches = [...this.state.user.searches]\n        currentSearches.push(Artist)\n        let updatedUser = { ...this.state.user }\n        updatedUser.searches = currentSearches\n        this.setState({ user: updatedUser })\n        console.log(this.state.user.searches)\n    }\n    render() {\n        return (\n            <div>\n                {\n                    console.log('this.state.user.searches', this.state.user && this.state.user.searches)\n                }\n                <Nav />\n                <Jumbotron user={this.state.user} updateSearches={() => this.updateSearches.bind(this)} />\n            </div>\n        )\n\n    }\n}\n\nexport default Home;","import React, { useState } from \"react\";\nimport API from \"../utils/API\";\n\n\nconst Signup = () => {\n    const [name, setName] = useState(\"\")\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        console.log(\"here\")\n        API.createUser(name)\n        .then(user => {\n            console.log('Got newly created user in component', user)\n            localStorage.setItem('userId', user.data._id)\n            window.location = '/'\n        })\n    }\n\n    return (\n        <form onSubmit={ handleSubmit }>\n            <input onChange={event => setName(event.target.value)} placeholder=\"Name\" />\n            <button type=\"submit\" > Submit </button>\n        </form>\n    )\n}\n\nexport default Signup;","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Signup from \"./pages/Signup\";\n\nconst App = () => (\n  <Router>\n    <div>\n      <Route exact path=\"/\" component={Home} />\n      <Route exact path=\"/signup\" component={Signup} />\n    </div>\n  </Router>\n)\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}