{"version":3,"sources":["components/Nav/index.js","utils/API.js","components/Jumbotron/index.js","pages/Home.js","pages/Signup.js","App.js","index.js"],"names":["Nav","react_default","a","createElement","className","href","NavLink","to","activeClassName","API","userId","axios","get","concat","name","post","artist","song","put","Jumbotron","_ref","user","_useState","useState","_useState2","Object","slicedToArray","setArtist","_useState3","_useState4","setSong","_useState5","_useState6","videoId","setVideoId","_useState7","_useState8","videoLyrics","setVideoLyrics","style","background","minHeight","id","YouTube","opts","height","width","playerVars","autoplay","onReady","onChange","e","target","value","placeholder","onClick","promise1","encodeURIComponent","promise2","params","format","callback","apikey","q_artist","q_track","headers","content-type","adapter","jsonpAdapter","Promise","all","then","results","console","log","firstVideoResult","data","items","find","item","kind","message","body","lyrics","lyrics_body","_id","Home","state","loaded","_this2","this","localStorage","getItem","setState","window","location","searches","components_Nav","components_Jumbotron","React","Component","Signup","setName","onSubmit","preventDefault","setItem","event","type","App","BrowserRouter","Route","exact","path","component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.e766f139.chunk.js","sourcesContent":["import React from \"react\";\nimport {NavLink} from \"react-router-dom\";\n\nfunction Nav() {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-danger\">\n      <a className=\"navbar-brand\" href=\"/\">\n        Melody\n      </a>\n      <NavLink to={`/signup`} activeClassName=\"active\">Signup</NavLink>\n    </nav>\n  );\n}\n\nexport default Nav;\n","import axios from \"axios\";\n\nexport default {\n  getUser: function(userId) {\n    return axios.get(`/user/${userId}`);\n  },\n  createUser: function(name) {\n    return axios.post(\"/user\", { name: name })\n  },\n  updateUser: function(userId, artist, song) {\n    return axios.put(\"/user/addSearch\", { userId: userId, artist: artist, song: song })\n  },\n};\n// import axios from \"axios\";\n// function getLyrics(){\n\n//   var artistSearch = document.getElementById(\"artistSearch\").value;\n//   console.log(\"article search: \" +artistSearch);\n//   document.getElementById(\"lyrics\").textContent = \"\";\n//     $.ajax({\n//       type: \"GET\",\n//       data: {\n//           apikey:\"44841837f851469f3b5b537d381f89006\",\n//           q_artist: artistSearch,\n//           format:\"jsonp\",\n//           callback:\"jsonp_callback\"\n//       },\n//       url: \"https://api.musixmatch.com/ws/1.1/track.search\",\n//       dataType: \"jsonp\",\n//       jsonpCallback: 'jsonp_callback',\n//       contentType: 'application/json',\n//       success: function(data) {\n//           console.log(data); \n//           console.log(data.message.body.track_list[0].track.album_coverart_350x350)\n//           console.log(data.message.body.track_list[0].track.lyrics_id)\n//           var rand = data.message.body.track_list[Math.floor(Math.random() * data.message.body.track_list.length)];\n//           console.log(rand.track.track_id)\n//           var thisTrack = (rand.track.track_id)\n//           var thisPic = rand.track.album_coverart_350x350;\n//           console.log(thisPic)\n  \n//           var p = document.createElement(\"p\");\n//           p.textContent = thisTrack;\n//           p.id = thisTrack;\n  \n//           var img = document.createElement(\"img\")\n//           img.setAttribute(\"src\",thisPic)\n  \n//           document.getElementById(\"lyrics\").appendChild(p).style.opacity = 0;\n//           document.getElementById(\"lyrics\").appendChild(img);\n//           document.getElementById(\"ghost\").click();\n  \n//       },\n//       error: function(jqXHR, textStatus, errorThrown) {\n//           console.log(jqXHR);\n//           console.log(textStatus);\n//           console.log(errorThrown);\n//       }    \n//     });\n//    };\n  \n  \n//    function getLyricsNow(){\n//       var trackId = document.getElementById(\"lyrics\").textContent;\n//       console.log(trackId)\n//     $.ajax({\n//       type: \"GET\",\n//       data: {\n//           apikey:\"4841837f851469f3b5b537d381f89006\",\n//           track_id: trackId,\n//           format:\"jsonp\",\n//           callback:\"jsonp_callback\"\n//       },\n//       url: \"https://api.musixmatch.com/ws/1.1/track.lyrics.get\",\n//       dataType: \"jsonp\",\n//       jsonpCallback: 'jsonp_callback',\n//       contentType: 'application/json',\n//       success: function(data) {\n//          console.log(data); console.log(data.message.body.lyrics.lyrics_body); \n//         var lyricsBody = data.message.body.lyrics.lyrics_body.split(/\\s+/).slice(0,100).join(\" \")+ \"...\";\n         \n//           var j = document.createElement(\"p\")\n//           j.textContent = lyricsBody\n//           document.getElementById(\"lyrics\").appendChild(j)\n//       },\n//       error: function(jqXHR, textStatus, errorThrown) {\n//           console.log(jqXHR);\n//           console.log(textStatus);\n//           console.log(errorThrown);\n//       }    \n//     });\n//    };","import React, { useState } from \"react\";\nimport YouTube from 'react-youtube'\nimport axios from 'axios'\nimport jsonpAdapter from 'axios-jsonp'\nimport API from \"../../utils/API\";\n\nconst Jumbotron = ({ user }) => {\n  const opts = {\n    height: '390',\n    width: '640',\n    playerVars: { // https://developers.google.com/youtube/player_parameters\n      autoplay: 1\n    }\n  };\n  const [artist, setArtist] = useState('')\n  const [song, setSong] = useState('')\n  const [videoId, setVideoId] = useState(null)\n  const [videoLyrics, setVideoLyrics] = useState('')\n\n  const handleArtistSearch = () => {\n    const promise1 = axios.get(`https://www.googleapis.com/youtube/v3/search?key=AIzaSyCOrYDn-Rpq-DIqgvv5naHsrsCfjPcqby4&q=${encodeURIComponent(song + ' - ' + artist)}&part=id`)\n\n    const promise2 = axios.get(`https://api.musixmatch.com/ws/1.1/matcher.lyrics.get`, {\n      params: {\n        format: 'jsonp',\n        callback: 'jsonp_callback',\n        apikey: '4841837f851469f3b5b537d381f89006',\n        q_artist: artist,\n        q_track: song\n      },\n      headers: { 'content-type': 'application/javascript' },\n      adapter: jsonpAdapter,\n    })\n\n    return Promise.all([promise1, promise2])\n      .then(results => {\n        console.log('GOT SOME DATA FROM YOUTUBE', results[0])\n        const firstVideoResult = results[0].data.items.find(item => item.id.kind === 'youtube#video')\n        setVideoId(firstVideoResult.id.videoId)\n\n        console.log('GOT MUSIXMATCH DATA', results[1].data.message.body.lyrics.lyrics_body)\n        setVideoLyrics(results[1].data.message.body.lyrics.lyrics_body)\n\n        API.updateUser(user._id, artist, song)\n      })\n  }\n\n  return (\n    <div>\n      <div className=\"container text-center pt-5\">\n        <i className=\"fas fa-angle-double-down fa-3x animated swing delay-1s\"></i>\n      </div>\n\n      <section style={{ background: '#EBF8FD', minHeight: '500px' }}>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-12 text-center pt-3\">\n              <h3 id=\"1\">MELODY Music App</h3>\n              {\n                videoId &&\n                <YouTube\n                  videoId={videoId}\n                  opts={opts}\n                  onReady={() => null}\n                />\n              }\n              {\n                videoLyrics &&\n                <p>{videoLyrics}</p>\n              }\n              <input onChange={e => setArtist(e.target.value)} placeholder='artist' />\n              <input onChange={e => setSong(e.target.value)} placeholder='song' />\n              <button onClick={handleArtistSearch}><strong>SEARCH</strong></button>\n            </div>\n          </div>\n        </div>\n      </section>\n    </div >\n  );\n}\n\nexport default Jumbotron;","import React from \"react\";\nimport Nav from \"../components/Nav\";\nimport Jumbotron from \"../components/Jumbotron\"\nimport API from \"../utils/API\";\n\nclass Home extends React.Component {\n    state = {\n        loaded:false, \n        user: null\n    };\n\n    componentDidMount() {\n        const userId = localStorage.getItem(\"userId\");\n        if (userId){\n            API.getUser(userId)\n            .then(user => {\n                console.log('Got existing user in component', user)\n                this.setState({ loaded: true, user: user.data })\n            })\n        } else{\n            window.location = '/signup'\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                {\n                    console.log('this.state.user.searches', this.state.user && this.state.user.searches)\n                }\n                <Nav />\n                <Jumbotron user={ this.state.user } />\n            </div>\n        )\n\n    }\n}\n\nexport default Home;","import React, { useState } from \"react\";\nimport API from \"../utils/API\";\n\n\nconst Signup = () => {\n    const [name, setName] = useState(\"\")\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        API.createUser(name)\n        .then(user => {\n            console.log('Got newly created user in component', user)\n            localStorage.setItem('userId', user.data._id)\n            window.location = '/'\n        })\n    }\n\n    return (\n        <form onSubmit={ handleSubmit }>\n            <input onChange={event => setName(event.target.value)} placeholder=\"Name\" />\n            <button type=\"submit\" > Submit </button>\n        </form>\n    )\n}\n\nexport default Signup;","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Signup from \"./pages/Signup\";\n\nconst App = () => (\n  <Router>\n    <div>\n      <Route exact path=\"/\" component={Home} />\n      <Route exact path=\"/signup\" component={Signup} />\n    </div>\n  </Router>\n)\n\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}